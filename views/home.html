<section ng-if="!user">
	<form>
		<div>
			<label for="username">Username</label>
			<input type="text" name="username" id="username" ng-model="user.username">
		</div>
		
		<div>
			<label for="password">Password</label>
			<input type="password" name="password" id="password" ng-model="user.password">
		</div>

		<div>
			<button ng-click="signin(user)">Go!</button>
		</div>
		
	</form>
	{{errmsg}}
</section>



<section ng-if="user" class="left-section">
	
</section>



<section ng-if="user" class="right-section">

	<div class="button" ng-click="logout()">Logout</div>

	<canvas id="videoCanvas" width="640" height="480">
		<p>
			Please use a browser that supports the Canvas Element, like
			<a href="http://www.google.com/chrome">Chrome</a>,
			<a href="http://www.mozilla.com/firefox/">Firefox</a>,
			<a href="http://www.apple.com/safari/">Safari</a> or Internet Explorer 10
		</p>
	</canvas>

	<div class="button top" hm-tap="onTop" hm-doubletap="onTop">Top</div>
	<div class="button left" hm-tap="onLeft" hm-doubletap="onLeft">Left</div>
	<div class="button right" hm-tap="onRight" hm-doubletap="onRight">Right</div>
	<div class="button bottom" hm-tap="onBottom" hm-doubletap="onBottom">Bottom</div>

	<script type="text/javascript" src="src/js/lib/jsmpg.js"></script>
	<script type="text/javascript">

		// Show loading notice
		var canvas = document.getElementById('videoCanvas');
		var ctx = canvas.getContext('2d');
		ctx.fillStyle = '#444';
		ctx.fillText('Loading...', canvas.width/2-30, canvas.height/3);

 		// Setup the WebSocket connection and start the player
		var client = new WebSocket('ws://{{user.raspIp}}:{{user.raspPortCam}}/');
		var player = new jsmpeg(client, {canvas:canvas});

		// $(function () {
		// 	window.WebSocket = window.WebSocket || window.MozWebSocket;
		// 	var ws = new WebSocket('ws://192.168.12.131:3000/ws');
			
		// 	$('button').on('click', function(){
		// 		var value = $(this).attr('data-value');
		// 		sendValue(value);
		// 	});
		// 	function sendValue(value){
		// 		ws.send(value);
		// 	}

		// });
	</script> 
</section>