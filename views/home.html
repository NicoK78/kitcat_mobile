<section ng-if="!user">
	<form>
		<div>
			<label for="username">Username</label>
			<input type="text" name="username" id="username" ng-model="user.username">
		</div>
		
		<div>
			<label for="password">Password</label>
			<input type="password" name="password" id="password" ng-model="user.password">
		</div>

		<div>
			<button ng-click="signin(user)">Go!</button>
		</div>
		
	</form>
	{{errmsg}}
</section>

<section ng-if="user">
	<canvas id="videoCanvas" width="640" height="480">
			<p>
				Please use a browser that supports the Canvas Element, like
				<a href="http://www.google.com/chrome">Chrome</a>,
				<a href="http://www.mozilla.com/firefox/">Firefox</a>,
				<a href="http://www.apple.com/safari/">Safari</a> or Internet Explorer 10
			</p>
		</canvas>

		<div id="joy_contain">
			<div id="joystick">
				<div id="top" data-value="500"></div>
				<div id="left" data-value="600"></div>
				<div id="right" data-value="400"></div>
				<div id="bottom"></div>
			</div>
		</div>
		<script type="text/javascript" src="src/js/lib/jsmpg.js"></script>
		<script type="text/javascript">
	
			// Show loading notice
			var canvas = document.getElementById('videoCanvas');
			var ctx = canvas.getContext('2d');
			ctx.fillStyle = '#444';
			ctx.fillText('Loading...', canvas.width/2-30, canvas.height/3);
	
	 		// Setup the WebSocket connection and start the player
			var client = new WebSocket('ws://192.168.12.131:8084/');
			var player = new jsmpeg(client, {canvas:canvas});
	
			// $(function () {
			// 	window.WebSocket = window.WebSocket || window.MozWebSocket;
			// 	var ws = new WebSocket('ws://192.168.12.131:3000/ws');
				
			// 	$('button').on('click', function(){
			// 		var value = $(this).attr('data-value');
			// 		sendValue(value);
			// 	});
			// 	function sendValue(value){
			// 		ws.send(value);
			// 	}
	
			// });
		</script> 
</section>