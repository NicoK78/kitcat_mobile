<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: services/Auth.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: services/Auth.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>'use strict';

/**
 * @class root.services.Auth
 * @description kitcat Auth manager
 * 
 * @param $http
 */
 angular
 	.module('kitcat')
 		.service('Auth', 
 			
 			function ($http, API) {

		    	var Auth = {

		    		/**
		        	 * @var cookie
		        	 * @memberof root.services.Auth
		        	 * @description The user object stored in local storage
		        	 * @public
		        	 */
		    		cookie: store.get('user-kitcat') || {},

		    		/**
		        	 * @function get
		        	 * @memberof root.services.Auth
		        	 * @description Get the user from API for the user that stored in local storage
		        	 * @param {Function} callback
		        	 * @public
		        	 *
		        	 * @returns {Function} Callback(err, res)
		        	 */
		    		get: function (callback)
		    		{

		    			if (Auth.cookie.id) {
							API.getUserById(Auth.cookie.id, function(err, res){
								if (!err) {
									return callback(null, res);
								}

								return callback(err, null);
							});
						} else {
							
							return callback('no cookie found', null);
						}

		    		},

		    		/**
		        	 * @function remove
		        	 * @memberof root.services.Auth
		        	 * @description Remove the user from the local storage
		        	 * @public
		        	 *
		        	 * @returns {Void}
		        	 */
		    		remove: function ()
		    		{

		    			store.remove('user-kitcat');

		    		},

		    		/**
		        	 * @function update
		        	 * @memberof root.services.Auth
		        	 * @description Update the user from the local storage with the given user object
		        	 * @param {Object} user
		        	 * @public
		        	 *
		        	 * @returns {Void} 
		        	 */
		    		update: function (user)
		    		{
		    			var u = user || {};

		    			store.set('user-kitcat', u);
		    		}

		    	};

				return Auth;
			}
		);</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="root.module_kitcat.html">kitcat</a></li></ul><h3>Classes</h3><ul><li><a href="root.controllers.Home.html">Home</a></li><li><a href="root.directives.stream.html">stream</a></li><li><a href="root.services.API.html">API</a></li><li><a href="root.services.Auth.html">Auth</a></li></ul><h3>Namespaces</h3><ul><li><a href="controllers.html">controllers</a></li><li><a href="directives.html">directives</a></li><li><a href="lib.html">lib</a></li><li><a href="root.html">root</a></li><li><a href="services.html">services</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.2</a> on Tue Jun 30 2015 20:28:17 GMT+0200 (CEST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
